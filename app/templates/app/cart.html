{% extends 'app/base.html' %}
{% load static %}
{% block cart_content %}
<div class="container py-4" style='width:100%'>
	<!-- Shopping Cart Header -->
	<div class="row mb-4">
		<div class="col-12">
			<div class="box-element p-3">
				<div class="d-flex justify-content-between align-items-center">
					<a class="btn btn-outline-dark" href="{% url 'home' %}">
						<i class="fas fa-arrow-left me-2"></i>Tiếp tục mua sắm
					</a>
					<div class="d-flex align-items-center">
						<div class="me-4">
							<span class="text-muted">Số lượng:</span>
							<strong class="ms-2">{{order.get_cart_items}}</strong>
						</div>
						<div class="me-4">
							<span class="text-muted">Tổng tiền:</span>
							<strong class="ms-2">{{order.get_cart_total}}</strong>
						</div>
						<a class="btn btn-success" href="{% url 'checkout' %}">
							Thanh toán <i class="fas fa-arrow-right ms-2"></i>
						</a>
					</div>
				</div>
			</div>
		</div>
	</div>

	<!-- Cart Items Header -->
	<div class="row bg-light py-2 mb-2 d-none d-md-flex">
		<div class="col-md-3 text-muted">Sản phẩm</div>
		<div class="col-md-3 text-muted">Tên sản phẩm</div>
		<div class="col-md-2 text-muted">Đơn giá</div>
		<div class="col-md-2 text-muted">Số lượng</div>
		<div class="col-md-2 text-muted">Thành tiền</div>
	</div>

	<!-- Cart Items -->
	{% for item in items %}
	<div class="row py-3 border-bottom align-items-center"data-product="{{item.product.id}}">
		<div class="col-md-3 col-6">
			<img class="img-fluid rounded" style="max-width: 100px;" src="{{item.product.ImageURL}}">
		</div>
		<div class="col-md-3 col-6">
			<h6 class="mb-0">{{item.product.name}}</h6>
		</div>
		<div class="col-md-2 col-4 mt-3 mt-md-0">
			<span class="text-muted">{{item.product.price}} </span>
		</div>
		<div class="col-md-2 col-4 mt-3 mt-md-0">
			<div class="quantity-wrapper d-flex align-items-center">
				<div class="quantity-controls d-flex align-items-center border rounded">
					<button class="btn btn-quantity px-2 py-1" data-action="remove">
						<i class="fas fa-minus"></i>
					</button>
					<span class="quantity px-3">{{item.quantity}}</span>
					<button class="btn btn-quantity px-2 py-1" data-action="add">
						<i class="fas fa-plus"></i>
					</button>
				</div>
			</div>
		</div>
		<div class="col-md-2 col-4 mt-3 mt-md-0">
			<strong>${{item.get_total}}</strong>
		</div>
	</div>
	{% endfor %}
</div>

<style>
.quantity-controls {
	background-color: #fff;
}

.btn-quantity {
	border: none;
	background: none;
	color: #6c757d;
	transition: all 0.2s;
}

.btn-quantity:hover {
	color: #000;
	background-color: #f8f9fa;
}

.quantity {
	min-width: 30px;
	text-align: center;
	font-weight: 500;
	border-left: 1px solid #dee2e6;
	border-right: 1px solid #dee2e6;
}
</style>
{% endblock cart_content %}